<!DOCTYPE html>
<html lang="en">

</html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="../static/styles/css/bulma.min.css">
</head>

<body>
    <nav class="navbar is-light" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a id="navbar-btn" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false"
                data-target="navbar">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div id="navbar" class="navbar-menu mb-1">
            <div class="navbar-start">
                <a class="navbar-item" href="/">
                    Home
                </a>
                <a class="navbar-item" href="/trips">
                    Trip history
                </a>
            </div>
    </nav>

    <section class="hero is-primary is-small block">
        <div class="hero-body">
            <p class="title">
                Trip History
            </p>
        </div>
    </section>

    <section class="section py-0">
        <div class="card table-container is-centered table-background-color">
            <table id="table" class="table is-hoverable is-fullwidth">
                <thead>
                    <tr class="has-background-info-light">
                        <th class="has-text-info-dark">Trip Id</th>
                        <th class="has-text-info-dark">Trip Time</th>
                        <th class="has-text-info-dark">Vehicle Id</th>
                        <th class="has-text-info-dark"><abbr title="Captured Data">Cap. Data</abbr></th>
                        <th class="has-text-info-dark"><abbr title="Near-Crash Kinematic Data">Near-Crash Data</abbr>
                        </th>
                        <th class="has-text-info-dark"><abbr title="Mean Frequency">Mean f</abbr></th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in data %}
                    <tr>
                        <th >{{row.idTrip}}</th>
                        <td>{{row.time}}</td>
                        <td>{{row.idVehicle}}</td>
                        <td>{{row.capturedData}}</td>
                        <td>{{row.nearcrashesData}}</td>
                        <td>{{row.meanFrequency}}</td>
                    </tr>
                    {% else %}
                    <tr>
                        <th>-</th>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </section>

    <div id="modal" class="modal"> <!--is-active-->
        <div class="modal-background"></div>
        <div class="modal-content">
            <!-- Any other Bulma elements you want -->
            <div class="card">
                <div class="card-content">
                    <h4 class="title is-4">Send data for the trip:</h4>
                    <div class="content">
                        <div class="box">
                            <p class="is-size-6">Trip id: <b id="trip-id"></b></p>
                            <p class="is-size-6">Trip time: <b id="trip-time"></b></p>
                            <p class="is-size-6">Vehicle id: <b id="vehicle-id"></b></p>
                        </div>
                        <div class="columns is-mobile is-centered">
                            <div class="column is-narrow">
                                <button type="delete-data" id="delete" class="button is-danger is-primary">Delete</button>
                            </div>
                            <div class="column is-narrow">
                                <button type="send-data" id="send" class="button is-outlined is-primary">Send</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="message" class="card is-hidden">
                <article class="message is-danger is-small">
                    <div class="message-header">
                        <p>Los datos de este viaje seran borrados. Â¿Esta seguro?</p>
                    </div>
                    <div class="level is-mobile message-body">
                        <div class="level-left">
                            <button id="cancel-delete" class="level-item button is-outlined is-danger is-small">No</button>
                            <button id="confirm-delete" class="level-left button is-outlined is-primary is-small">Yes</button>
                        </div>
                    </div>
                </article>
            </div>
        </div>
        <button class="modal-close is-large" aria-label="close"></button>
    </div>

    <script src="../static/js/trips.js"></script>
</body>

</html>